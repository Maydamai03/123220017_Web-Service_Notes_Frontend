<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Note</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" href="crud.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
     <!-- Navbar -->
     <div id="navbar-container"></div>
     <h1 class="title has-text-centered mt-5" style="color: #071a2d;font-weight: bold;">Edit Catatan</h1>

     <!-- Main Session -->
     <div class="container2">
         <div class="card2">
             <form onsubmit="updateUser(event, userId)">
                 <div class="field">
                     <label class="label">Title</label>
                     <div class="control">
                         <input type="text" class="input" id="title" placeholder="title">
                     </div>
                 </div>
                 <div class="field">
                     <label class="label">Category</label>
                     <div class="control">
                         <div class="select is-fullwidth">
                             <select id="category">
                                 <option value="Penting">Penting</option>
                                 <option value="Sedang">Sedang</option>
                                 <option value="Tidak Penting">Tidak Penting</option>
                             </select>
                         </div>
                     </div>
                 </div>
                 <div class="field">
                     <label class="label">Text</label>
                     <div class="control">
                         <input type="text" class="input" id="text" placeholder="text">
                     </div>
                 </div>
                 <div class="field">
                     <button type="submit" class="button is-success mt-4">Simpan</button>
                 </div>
             </form>
         </div>
     </div>

     <style>
         .button.is-success {
             background-color: #3c658e;
             color: #edf2d1;
         }
         .button.is-success:hover {
             background-color: #9fdfff;
             color: #0e0e0e;
         }
     </style>

    <script src="../backend/backend.js"></script>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get("id");

        async function loadUserData() {
            const user = await getUserById(userId);
            document.getElementById("title").value = user.title;
            document.getElementById("category").value = user.category;
            document.getElementById("text").value = user.text;
        }

        document.addEventListener("DOMContentLoaded", loadUserData);
    </script>
    <script src="navbar.js"></script>

</body>
</html>
